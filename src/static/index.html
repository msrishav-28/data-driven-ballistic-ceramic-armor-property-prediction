<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ceramic Armor ML Prediction System</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.0/axios.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1><i class="fas fa-shield-alt"></i> Ceramic Armor ML Prediction System</h1>
                <p>Advanced materials property prediction for ceramic armor applications</p>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="tab-button active" data-tab="prediction">
                <i class="fas fa-calculator"></i> Prediction
            </button>
            <button class="tab-button" data-tab="batch">
                <i class="fas fa-upload"></i> Batch Processing
            </button>
            <button class="tab-button" data-tab="results">
                <i class="fas fa-chart-line"></i> Results
            </button>
            <button class="tab-button" data-tab="docs">
                <i class="fas fa-book"></i> Documentation
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Prediction Tab -->
            <div id="prediction-tab" class="tab-content active">
                <div class="prediction-container">
                    <!-- Input Form -->
                    <div class="input-section">
                        <h2><i class="fas fa-flask"></i> Material Parameters</h2>
                        
                        <!-- Composition Section -->
                        <div class="form-section">
                            <h3><i class="fas fa-atom"></i> Composition</h3>
                            <div class="composition-grid">
                                <div class="input-group">
                                    <label for="sic">SiC (Silicon Carbide)</label>
                                    <div class="slider-container">
                                        <input type="range" id="sic" min="0" max="1" step="0.01" value="0.6">
                                        <span class="slider-value">60%</span>
                                    </div>
                                </div>
                                <div class="input-group">
                                    <label for="b4c">B₄C (Boron Carbide)</label>
                                    <div class="slider-container">
                                        <input type="range" id="b4c" min="0" max="1" step="0.01" value="0.3">
                                        <span class="slider-value">30%</span>
                                    </div>
                                </div>
                                <div class="input-group">
                                    <label for="al2o3">Al₂O₃ (Aluminum Oxide)</label>
                                    <div class="slider-container">
                                        <input type="range" id="al2o3" min="0" max="1" step="0.01" value="0.1">
                                        <span class="slider-value">10%</span>
                                    </div>
                                </div>
                                <div class="input-group">
                                    <label for="wc">WC (Tungsten Carbide)</label>
                                    <div class="slider-container">
                                        <input type="range" id="wc" min="0" max="1" step="0.01" value="0">
                                        <span class="slider-value">0%</span>
                                    </div>
                                </div>
                                <div class="input-group">
                                    <label for="tic">TiC (Titanium Carbide)</label>
                                    <div class="slider-container">
                                        <input type="range" id="tic" min="0" max="1" step="0.01" value="0">
                                        <span class="slider-value">0%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="composition-total">
                                Total: <span id="total-composition">100%</span>
                            </div>
                        </div>

                        <!-- Processing Section -->
                        <div class="form-section">
                            <h3><i class="fas fa-fire"></i> Processing Parameters</h3>
                            <div class="processing-grid">
                                <div class="input-group">
                                    <label for="temperature">Sintering Temperature (°C)</label>
                                    <input type="number" id="temperature" min="1200" max="2500" value="1800" step="10">
                                </div>
                                <div class="input-group">
                                    <label for="pressure">Pressure (MPa)</label>
                                    <input type="number" id="pressure" min="1" max="200" value="50" step="1">
                                </div>
                                <div class="input-group">
                                    <label for="grain-size">Grain Size (μm)</label>
                                    <input type="number" id="grain-size" min="0.1" max="100" value="10" step="0.1">
                                </div>
                                <div class="input-group">
                                    <label for="holding-time">Holding Time (min)</label>
                                    <input type="number" id="holding-time" min="1" max="600" value="120" step="1">
                                </div>
                                <div class="input-group">
                                    <label for="heating-rate">Heating Rate (°C/min)</label>
                                    <input type="number" id="heating-rate" min="1" max="50" value="15" step="1">
                                </div>
                                <div class="input-group">
                                    <label for="atmosphere">Atmosphere</label>
                                    <select id="atmosphere">
                                        <option value="argon">Argon</option>
                                        <option value="nitrogen">Nitrogen</option>
                                        <option value="vacuum">Vacuum</option>
                                        <option value="air">Air</option>
                                        <option value="hydrogen">Hydrogen</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Microstructure Section -->
                        <div class="form-section">
                            <h3><i class="fas fa-microscope"></i> Microstructure</h3>
                            <div class="microstructure-grid">
                                <div class="input-group">
                                    <label for="porosity">Porosity</label>
                                    <div class="slider-container">
                                        <input type="range" id="porosity" min="0" max="0.3" step="0.001" value="0.02">
                                        <span class="slider-value">2.0%</span>
                                    </div>
                                </div>
                                <div class="input-group">
                                    <label for="phase-distribution">Phase Distribution</label>
                                    <select id="phase-distribution">
                                        <option value="uniform">Uniform</option>
                                        <option value="gradient">Gradient</option>
                                        <option value="layered">Layered</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label for="interface-quality">Interface Quality</label>
                                    <select id="interface-quality">
                                        <option value="excellent">Excellent</option>
                                        <option value="good" selected>Good</option>
                                        <option value="fair">Fair</option>
                                        <option value="poor">Poor</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label for="pore-size">Pore Size (μm)</label>
                                    <input type="number" id="pore-size" min="0.01" max="50" value="1.0" step="0.01">
                                </div>
                            </div>
                        </div>

                        <!-- Prediction Options -->
                        <div class="form-section">
                            <h3><i class="fas fa-cogs"></i> Prediction Options</h3>
                            <div class="options-grid">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="include-uncertainty" checked>
                                    <label for="include-uncertainty">Include Uncertainty Quantification</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="include-feature-importance" checked>
                                    <label for="include-feature-importance">Include Feature Importance</label>
                                </div>
                                <div class="radio-group">
                                    <label>Prediction Type:</label>
                                    <div class="radio-options">
                                        <input type="radio" id="pred-mechanical" name="prediction-type" value="mechanical">
                                        <label for="pred-mechanical">Mechanical Only</label>
                                        <input type="radio" id="pred-ballistic" name="prediction-type" value="ballistic">
                                        <label for="pred-ballistic">Ballistic Only</label>
                                        <input type="radio" id="pred-both" name="prediction-type" value="both" checked>
                                        <label for="pred-both">Both</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="action-buttons">
                            <button id="predict-btn" class="btn btn-primary">
                                <i class="fas fa-play"></i> Predict Properties
                            </button>
                            <button id="reset-btn" class="btn btn-secondary">
                                <i class="fas fa-undo"></i> Reset Form
                            </button>
                            <button id="load-preset-btn" class="btn btn-secondary">
                                <i class="fas fa-download"></i> Load Preset
                            </button>
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div class="results-section">
                        <h2><i class="fas fa-chart-bar"></i> Prediction Results</h2>
                        <div id="results-container" class="results-container">
                            <div class="no-results">
                                <i class="fas fa-info-circle"></i>
                                <p>Enter material parameters and click "Predict Properties" to see results</p>
                            </div>
                            <!-- Property cards will be dynamically inserted here -->
                            <div class="property-cards" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Batch Processing Tab -->
            <div id="batch-tab" class="tab-content">
                <div class="batch-container">
                    <h2><i class="fas fa-upload"></i> Batch Processing</h2>
                    <div class="upload-section">
                        <div class="upload-area" id="upload-area">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Drag and drop your CSV file here or click to browse</p>
                            <input type="file" id="file-input" accept=".csv,.xlsx" hidden>
                            <button class="btn btn-secondary" onclick="document.getElementById('file-input').click()">
                                Browse Files
                            </button>
                        </div>
                        <div class="batch-options">
                            <div class="input-group">
                                <label for="batch-prediction-type">Prediction Type</label>
                                <select id="batch-prediction-type">
                                    <option value="both">Both (Mechanical + Ballistic)</option>
                                    <option value="mechanical">Mechanical Only</option>
                                    <option value="ballistic">Ballistic Only</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="output-format">Output Format</label>
                                <select id="output-format">
                                    <option value="csv">CSV</option>
                                    <option value="xlsx">Excel</option>
                                    <option value="json">JSON</option>
                                </select>
                            </div>
                        </div>
                        <button id="process-batch-btn" class="btn btn-primary" disabled>
                            <i class="fas fa-cogs"></i> Process Batch
                        </button>
                    </div>
                    <div id="batch-progress" class="batch-progress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <p class="progress-text">Processing...</p>
                    </div>
                    <div id="batch-results" class="batch-results" style="display: none;">
                        <!-- Batch results will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Results Tab -->
            <div id="results-tab" class="tab-content">
                <div class="results-history">
                    <h2><i class="fas fa-history"></i> Results History</h2>
                    <div id="history-container">
                        <div class="no-results">
                            <i class="fas fa-info-circle"></i>
                            <p>No prediction history available</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Documentation Tab -->
            <div id="docs-tab" class="tab-content">
                <div class="documentation">
                    <h2><i class="fas fa-book"></i> API Documentation</h2>
                    <div class="docs-content">
                        <div class="docs-section">
                            <h3>Getting Started</h3>
                            <p>This system predicts mechanical and ballistic properties of ceramic armor materials using advanced machine learning models.</p>
                            
                            <h4>Supported Materials</h4>
                            <ul>
                                <li>Silicon Carbide (SiC)</li>
                                <li>Boron Carbide (B₄C)</li>
                                <li>Aluminum Oxide (Al₂O₃)</li>
                                <li>Tungsten Carbide (WC)</li>
                                <li>Titanium Carbide (TiC)</li>
                            </ul>

                            <h4>Predicted Properties</h4>
                            <div class="property-grid">
                                <div class="property-card">
                                    <h5>Mechanical Properties</h5>
                                    <ul>
                                        <li>Fracture Toughness (MPa·m^0.5)</li>
                                        <li>Vickers Hardness (HV)</li>
                                        <li>Density (g/cm³)</li>
                                        <li>Elastic Modulus (GPa)</li>
                                    </ul>
                                </div>
                                <div class="property-card">
                                    <h5>Ballistic Properties</h5>
                                    <ul>
                                        <li>V50 Velocity (m/s)</li>
                                        <li>Penetration Resistance</li>
                                        <li>Back-face Deformation (mm)</li>
                                        <li>Multi-hit Capability</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="docs-section">
                            <h3>API Endpoints</h3>
                            <div class="endpoint-card">
                                <h4>POST /api/v1/predict/mechanical</h4>
                                <p>Predict mechanical properties of ceramic materials</p>
                                <a href="/docs" target="_blank" class="btn btn-secondary">
                                    <i class="fas fa-external-link-alt"></i> View Interactive Docs
                                </a>
                            </div>
                            <div class="endpoint-card">
                                <h4>POST /api/v1/predict/ballistic</h4>
                                <p>Predict ballistic properties of ceramic materials</p>
                                <a href="/docs" target="_blank" class="btn btn-secondary">
                                    <i class="fas fa-external-link-alt"></i> View Interactive Docs
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="loading-spinner">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Processing prediction...</p>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>